---
<<<<<<< HEAD
const { selectedItem } = Astro.props;
=======
const urlPath = Astro.url.pathname;

// Normalizamos (quita slash final excepto "/")
const path = urlPath !== "/" ? urlPath.replace(/\/$/, "") : "/";

const isHome = path === "/";
const isBlog = path === "/blog" || path.startsWith("/blog/");
const isSoftware = path.startsWith("/software-development");
const isDevops = path.startsWith("/devops");
const isPersonal = path.startsWith("/personal-projects");
>>>>>>> 67c98db (add github pages workflow)
---

<aside
  data-animation="default"
  data-collapse="medium"
  data-duration="400"
  data-easing="ease"
  data-easing2="ease"
  role="banner"
  class="sidebar w-nav"
>
  <div class="nav-content">
    <a href="/" class="w-nav-brand" aria-label="home">
      <div class="niv-data">
        <img
<<<<<<< HEAD
          src="/assets/sam.jpg"
=======
          src="/assets/alan.jpg"
>>>>>>> 67c98db (add github pages workflow)
          loading="eager"
          alt="Profile picture"
          class="niv-image"
        />
        <div>
<<<<<<< HEAD
          <div class="label-white">Sam Bernstein</div>
          <div class="label-gray">Software Engineer</div>
=======
          <div class="label-white">Alan López</div>
          <div class="label-gray">Web Dev · QA &amp; Testing</div>
>>>>>>> 67c98db (add github pages workflow)
        </div>
      </div>
    </a>

    <nav role="navigation" class="w-nav-menu">
      <a
        href="/"
<<<<<<< HEAD
        class={`nav-link-container w-inline-block ${
          selectedItem === 'home' ? 'w--current' : ''
        }`}
=======
        class={`nav-link-container w-inline-block ${isHome ? "w--current" : ""}`}
        aria-current={isHome ? "page" : undefined}
>>>>>>> 67c98db (add github pages workflow)
      >
        <img
          src="/assets/home.svg"
          loading="eager"
          alt=""
          class="nav-link-image"
        />
        <div>Home</div>
      </a>
<<<<<<< HEAD
      <a
        href="/software-development"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'software-development' ? 'w--current' : ''
        }`}
        aria-current={
          selectedItem === 'software-development' ? 'page' : undefined
        }
=======

      <a
        href="/blog"
        class={`nav-link-container w-inline-block ${isBlog ? "w--current" : ""}`}
        aria-current={isBlog ? "page" : undefined}
      >
        <img
          src="/assets/favorite.svg"
          loading="eager"
          alt=""
          class="nav-link-image"
        />
        <div>Blog</div>
      </a>

      <a
        href="/software-development"
        class={`nav-link-container w-inline-block ${isSoftware ? "w--current" : ""}`}
        aria-current={isSoftware ? "page" : undefined}
>>>>>>> 67c98db (add github pages workflow)
      >
        <img
          src="/assets/code.svg"
          loading="eager"
          alt=""
          class="nav-link-image"
        />
        <div>Software development</div>
      </a>
<<<<<<< HEAD
      <a
        href="/devops"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'devops' ? 'w--current' : ''
        }`}
=======

      <a
        href="/devops"
        class={`nav-link-container w-inline-block ${isDevops ? "w--current" : ""}`}
        aria-current={isDevops ? "page" : undefined}
>>>>>>> 67c98db (add github pages workflow)
      >
        <img
          src="/assets/dns.svg"
          loading="eager"
          alt=""
          class="nav-link-image"
        />
<<<<<<< HEAD
        <div>DevOps</div>
      </a>
      <a
        href="/personal-projects"
        class={`nav-link-container w-inline-block ${
          selectedItem === 'personal-projects' ? 'w--current' : ''
        }`}
=======
        <div>QA &amp; Tooling</div>
      </a>

      <a
        href="/personal-projects"
        class={`nav-link-container w-inline-block ${isPersonal ? "w--current" : ""}`}
        aria-current={isPersonal ? "page" : undefined}
>>>>>>> 67c98db (add github pages workflow)
      >
        <img
          src="/assets/favorite.svg"
          loading="eager"
          alt=""
          class="nav-link-image"
        />
        <div>Personal projects</div>
      </a>
    </nav>

    <div
      class="navbar-icon-button w-nav-button"
      style="-webkit-user-select: text;"
      aria-label="menu"
      role="button"
      tabindex="0"
    >
      <img
        src="/assets/menu.svg"
        loading="eager"
        alt=""
        class="navbar-icon"
      />
    </div>
  </div>
<<<<<<< HEAD

  <script>
    import { setupNav } from '../scripts/nav.js';
    
    let cleanup;
    document.addEventListener('astro:page-load', () => {
      if (cleanup) cleanup();
      cleanup = setupNav();
    });

    document.addEventListener('astro:before-swap', () => {
      if (cleanup) cleanup();
    });
  </script>
=======
>>>>>>> 67c98db (add github pages workflow)
</aside>
